<!doctype html><html>
    <head>
      <meta http-equiv="content-type" content="text/html; charset=utf-8">
      <title>获得系统信息</title>
      <meta name="generator" content="CherryTree">
      <link rel="stylesheet" href="res/styles3.css" type="text/css" />
    </head>
    <body><div class='page'><h1 class='title'>获得系统信息</h1><br/><table class="table"><tr><th>命令</th><th>作用</th></tr><tr><td>uname -a</td><td>打印所有可用的系统信息</td></tr><tr><td>uname -r</td><td>内核版本信息</td></tr><tr><td>uname -n</td><td>系统主机名字</td></tr><tr><td>hostname</td><td>主机名</td></tr><tr><td>uname -m</td><td>Linux内核架构（x86/x64）</td></tr><tr><td>cat /proc/version</td><td>内核信息</td></tr><tr><td>cat /etc/*-release</td><td>发布信息</td></tr><tr><td>cat /etc/issue</td><td>发布信息</td></tr><tr><td>cat /proc/cpuinfo</td><td>CPU信息</td></tr><tr><td>df -a</td><td>文件系统信息</td></tr></table><br /><br /><br /><h3>用户和组</h3><br /><table class="table"><tr><th>命令</th><th>作用</th></tr><tr><td>cat /etc/passwd</td><td>列出系统所有用户</td></tr><tr><td>cat /etc/group</td><td>列出系统所有组</td></tr><tr><td>cat /etc/shadow</td><td>列出所有用户hash（需要root权限）</td></tr><tr><td>finger、finger user</td><td>当前登录的用户、查询用户的基本信息</td></tr><tr><td>users</td><td>当前登录的用户</td></tr><tr><td>who -a</td><td>当前登录的用户</td></tr><tr><td>w</td><td>显示目前登入系统的用户有那些人，以及他们正在执行的程序</td></tr><tr><td>last</td><td>显示登入过的用户信息</td></tr><tr><td>lastlog</td><td>显示系统中所有用户最近一次登录信息</td></tr><tr><td>lastlog –u %username%</td><td>显示指定用户最后一次登入信息</td></tr></table><br /><br /><br /><h3>用户和权限信息</h3><br /><table class="table"><tr><th>命令</th><th>作用</th></tr><tr><td>whoami</td><td>当前用户</td></tr><tr><td>id</td><td>当前用户信息</td></tr><tr><td>cat /etc/sudoers</td><td>可以使用sudo提升到root的用户（需要root权限）</td></tr><tr><td>sudo</td><td>允许普通用户执行一些或者全部的root命令的一个工具</td></tr><tr><td>sudo -l</td><td>列出目前用户可执行与无法执行的指令</td></tr><tr><td>su</td><td>切换当前用户身份到其他用户身份</td></tr></table><br /><br /><br /><h3>环境信息</h3><br /><table class="table"><tr><th>命令</th><th>作用</th></tr><tr><td>env</td><td>打印系统环境信息</td></tr><tr><td>set</td><td>打印系统环境信息</td></tr><tr><td>echo $PATH</td><td>环境变量中的路径信息</td></tr><tr><td>history</td><td>打印历史命令</td></tr><tr><td>pwd</td><td>显示当前路径</td></tr><tr><td>cat /etc/profile</td><td>显示默认系统遍历</td></tr><tr><td>cat /etc/shells</td><td>显示可用的shell</td></tr></table><br /><br /><br /><br /><h3>有用的命令</h3><br /><table class="table"><tr><th>命令</th><th>作用</th></tr><tr><td>find / -perm -4000 -type f</td><td>查找SUID的文件</td></tr><tr><td>find / -uid 0 -perm -4000 -type f</td><td>查找root权限的SUID文件</td></tr><tr><td>find / -perm -2 -type f</td><td>找出可写的文件</td></tr><tr><td>find / ! -path &quot;/proc/&quot; -perm -2 -type f -print</td><td>查找/proc以外的可写文件</td></tr><tr><td>find / -perm -2 -type d</td><td>找出可写目录</td></tr><tr><td>find /home –name *.rhosts -print</td><td>查找rhosts的配置文件</td></tr><tr><td>find /home -iname *.plan -exec ls -la {} ; -exec cat {}</td><td>查询文件并打印</td></tr><tr><td>ls -ahlR /root/</td><td>查看是否有权限列用户目录</td></tr><tr><td>cat ~/.bash_history</td><td>查看当前用户的历史记录</td></tr><tr><td>ls -la ~/.*_history</td><td>查看当前用户的各种历史记录</td></tr><tr><td>ls -la ~/.ssh/</td><td>查看用户ssh登录信息</td></tr><tr><td>ls -la /usr/sbin/in.*</td><td>检查inetd服务的配置</td></tr><tr><td>grep -l -i pass /var/log/*.log</td><td>查询包含pass的日志并打印匹配到的行</td></tr><tr><td>ls -la /etc/*.conf</td><td>列出/etc/下的所有配置文件</td></tr><tr><td>lsof -i -n</td><td>列出打开的文件</td></tr><tr><td>head /var/mail/root</td><td>答应/var/mail/root的开头</td></tr></table><br /><br /><br /><br /><h3>服务信息</h3><br /><table class="table"><tr><th>命令</th><th>作用</th></tr><tr><td>ps aux</td><td>查看进程信息</td></tr><tr><td>cat /etc/inetd.conf</td><td>由inetd管理的服务列表</td></tr><tr><td>cat /etc/xinetd.conf</td><td>由xinetd管理的服务列表</td></tr><tr><td>cat /etc/exports</td><td>nfs服务器的配置</td></tr></table><br /><br /><br /><br /><h3>作业和任务</h3><br /><table class="table"><tr><th>命令</th><th>作用</th></tr><tr><td>crontab -l -u %username%</td><td>显示指定用户的计划作业（需要root权限）</td></tr><tr><td>ls -la /etc/cron*</td><td>计划任务</td></tr><tr><td>top</td><td>列出当前进程</td></tr></table><br /><br /><br /><br /><h3>网络、路由和通信</h3><br /><table class="table"><tr><th>命令</th><th>作用</th></tr><tr><td>/sbin/ifconfig -a</td><td>列出网络接口信息</td></tr><tr><td>cat /etc/network/interfaces</td><td>列出网络接口信息</td></tr><tr><td>arp -a</td><td>查看系统arp表</td></tr><tr><td>route</td><td>打印如有信息</td></tr><tr><td>cat /etc/resolv.conf</td><td>查看dns配置信息</td></tr><tr><td>netstat -an</td><td>打印本地端口开放信息</td></tr><tr><td>iptables -L</td><td>列出iptable的配置规则</td></tr><tr><td>cat /etc/services</td><td>查看端口服务映射</td></tr></table><br /><br /><br /><br /><h3>软件信息</h3><br /><table class="table"><tr><th>命令</th><th>作用</th></tr><tr><td>dpkg -l</td><td>软件安装（Debian）</td></tr><tr><td>rpm -qa</td><td>软件安装（Red Hat）</td></tr><tr><td>sudo -V</td><td>查看sudo的版本信息</td></tr><tr><td>httpd -v</td><td>查看apache的版本信息</td></tr><tr><td>apache2 -v</td><td>查看apache的版本信息</td></tr><tr><td>apache2ctl (or apachectl) -M</td><td>列出加载的apache模块</td></tr><tr><td>mysql --version</td><td>mysql的版本信息</td></tr><tr><td>psql -V</td><td>Postgres数据库的版本信息</td></tr><tr><td>perl -v</td><td>perl的版本信息</td></tr><tr><td>java -version</td><td>java的版本信息</td></tr><tr><td>python --version</td><td>python的版本信息</td></tr><tr><td>ruby -v</td><td>ruby的版本信息</td></tr><tr><td>find / -name %program_name%</td><td>查找有用的软件</td></tr><tr><td>which %program_name%</td><td>查找有用的软件</td></tr><tr><td>cat /etc/apache2/envvars</td><td>查看运行apache的帐号</td></tr></table><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><p align="center"><img src="images\home.svg" height="22" width="22">  <a href="index.html">索引</a></p></div></body></html>