<!doctype html><html>
    <head>
      <meta http-equiv="content-type" content="text/html; charset=utf-8">
      <title>自动安装配置文件泄露密码</title>
      <meta name="generator" content="CherryTree">
      <link rel="stylesheet" href="res/styles3.css" type="text/css" />
    </head>
    <body><div class='page'><h1 class='title'>自动安装配置文件泄露密码</h1><br/>自动安装允许程序在不需要管理员关注下自动安装。这种解决方案用于在拥有较多雇员和时间紧缺的较大型组织中部署程序。如果管理员没有进行清理的话，那么会有一个名为Unattend的XML文件残存在系统上。这个XML文件包含所有在安装程序过程中的配置，包括一些本地用户的配置，以及管理员账户！<br /><br />全盘搜索Unattend文件是个好办法，它通常会在以下一个文件夹中：<br /><br />C:\sysprep.inf<br />C:\sysprep\sysprep.xml<br />C:\Windows\Panther\Unattend\Unattended.xml<br />C:\Windows\Panther\Unattended.xml<br />C:\Windows\Panther\<br />C:\Windows\Panther\Unattend\<br />C:\Windows\System32\<br />C:\Windows\System32\sysprep\<br /><br />除了Unattend.xml文件外，还要留意系统中的sysprep.xml和sysprep.inf、autounattend.xml文件，这些文件中都会包含部署操作系统时使用的凭据信息，这些信息可以帮助我们提权。<br /><br /><br />注意&lt;UserAccounts&gt;，&lt;AdministratorPassword&gt;标签<br /><br />&lt;UserAccounts&gt;<br />    &lt;LocalAccounts&gt;<br />        &lt;LocalAccount&gt;<br />            &lt;Password&gt;<br />                &lt;Value&gt;UEBzc3dvcmQxMjMhUGFzc3dvcmQ=&lt;/Value&gt;<br />                &lt;PlainText&gt;false&lt;/PlainText&gt;<br />            &lt;/Password&gt;<br />            &lt;Description&gt;Local Administrator&lt;/Description&gt;<br />            &lt;DisplayName&gt;Administrator&lt;/DisplayName&gt;<br />            &lt;Group&gt;Administrators&lt;/Group&gt;<br />            &lt;Name&gt;Administrator&lt;/Name&gt;<br />        &lt;/LocalAccount&gt;<br />    &lt;/LocalAccounts&gt;<br />&lt;/UserAccounts&gt;<br /><br /><br />把value的值base64解密后，去掉末尾的Password就是该账户的密码<br /><br />//微软在进行编码前会在Unattend文件中所有的密码后面都追加&quot;Password&quot;<p align="center"><img src="images\home.svg" height="22" width="22">  <a href="index.html">索引</a></p></div></body></html>