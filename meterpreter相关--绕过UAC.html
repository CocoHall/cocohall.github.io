<!doctype html><html>
    <head>
      <meta http-equiv="content-type" content="text/html; charset=utf-8">
      <title>绕过UAC</title>
      <meta name="generator" content="CherryTree">
      <link rel="stylesheet" href="res/styles3.css" type="text/css" />
    </head>
    <body><div class='page'><h1 class='title'>绕过UAC</h1><br/><h1>方法一</h1><br /><br />use exploit/windows/local/bypassuac  <br />//将通过进程注入使用可信任发布者证书绕过Windows UAC。它将生成关闭UAC标志的第二个shell。<br />set session 1  //使用sessino 1<br />Exploit           //执行权限提升的攻击模式<br /><br /><a href=""><img src="images\543-1.png" alt="images\543-1.png" /></a><br /><br /><h1>方法二</h1> ：Windows权限提升绕过UAC保护（内存注入）<br />此模块将通过进程注入使用可信任的发布者证书绕过Windows UAC。<br />它将生成关闭UAC标志的第二个shell。<br />在普通技术中，该模块使用反射式DLL注入技术并只除去了DLL payload 二进制文件，而不是三个单独的二进制文件。<br />但是，它需要选择正确的体系架构（对于SYSWOW64系统也使用x64）。执行完毕以下命令，当前用户权限就会变为管理员权限。<br /><br />use exploit/windows/local/bypassuac_fodhelper<br />set session 1<br />Exploit<br /><br /><br /><h1>方法三</h1> ：通过COM处理程序劫持<br /><br />首先介绍一下这个COM处理程序劫持<br />此模块将通过在hkcu配置单元中创建COM处理程序注册表项来绕过Windows UAC。<br />当加载某些较高完整性级别进程时，会引用这些注册表项，从而导致进程加载用户控制的DLL。<br />这些DLL包含导致会话权限提升的payload。此模块修改注册表项，但在调用payload后将清除该项。<br />这个模块需要payload的体系架构和操作系统匹配，但是当前的低权限meterpreter会话体系架构中可能不同。<br />如果指定exe:：custom，则应在单独的进程中启动payloa后调用ExitProcess（）。<br />此模块通过目标上的cmd.exe调用目标二进制文件。因此，如果cmd.exe访问受到限制，此模块将无法正常运行。<br /><br />use exploit/windows/local/bypassuac_comhijack<br />set session 1<br />Exploit<br /><br /><h1>方法四</h1>：通过Eventvwr注册表项<br /><br />此模块将通过在当前用户配置单元下劫持注册表中的特殊键并插入<br />将在启动Windows事件查看器时调用的自定义命令来绕过Windows UAC。<br />它将生成关闭UAC标志的第二个shell。<br />此模块修改注册表项，但在调用payload后将清除该项。<br />该模块不需要payload的体系架构和操作系统匹配。<br />如果指定EXE ::Custom，则应在单独的进程中启动payload后调用ExitProcess（）。<br /><br />use exploit/windows/local/bypassuac_eventvwr<br />set session 1<br />Exploit<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><p align="center"><img src="images\home.svg" height="22" width="22">  <a href="index.html">索引</a></p></div></body></html>